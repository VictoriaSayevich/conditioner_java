(()=>{"use strict";const e={createNode(e,n){let t=document.createElement(e);return n&&n.forEach((e=>{t.classList.add(e)})),t},mainSectionTpl(){return this.createNode("main",["site-main"])},bannerTpl(){let e=this.createNode("section",["hero-banner"]);return e.innerHTML='\n            <div class="container">\n                <div class="row no-gutters align-items-center pt-60px">\n                    <div class="col-5 d-none d-sm-block">\n                        <div class="hero-banner__img">\n                            <img class="img-fluid" src="../src/img/hero-banner.png" alt="главное изображение">\n                        </div>\n                    </div>\n                    <div class="col-sm-7 col-lg-6 offset-lg-1 pl-4 pl-md-5 pl-lg-0">\n                        <div class="hero-banner__content">\n                            <h4>Кондиционеры нового поколения</h4>\n                            <h1>Candi Cool</h1>\n                            <p>Будьте всегда спокойны вместе с нами</p>\n                            <a class="button button-hero" href="./pages/login.html">Администрировать</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ',e},carouselContainerTpl(){let e=this.createNode("section",["section-margin","mt-0"]);return e.innerHTML='<div class="owl-carousel owl-theme hero-carousel" id="carousel-conditioners"></div>',e},carouselCardTpl(e){let n=this.createNode("div",["hero-carousel__slide"]);return n.innerHTML=`\n            <img src="${e.img_url}" alt="${e.brend} ${e.model}" class="img-fluid">\n            <a href="#" class="hero-carousel__slideOverlay">\n                <h3>${e.brend}</h3>\n                <p>${e.model}</p>\n            </a>\n        `,n},containerTpl(){let e=this.createNode("section",["section-margin","calc-60px"]);return e.innerHTML='\n            <div class="container">\n                <div class="section-intro pb-60px">\n                    <p>Успей купить!</p>\n                    <h2>Популярные <span class="section-intro__style">кондиционеры</span></h2>\n                </div>\n                <div class="row" id="container-conditioners"></div>\n            </div>\n            ',e},cardTpl(e){let n=this.createNode("div",["col-md-6","col-lg-4","col-xl-3"]);return n.innerHTML=`\n            <div class="card text-center card-product">\n                <div class="card-product__img">\n                    <a href="./pages/single-product.html?id=${e.conditionerId}"><img class="card-img" src="${e.img_url}" alt="${e.brend} ${e.model}"></a>\n                </div>\n                <div class="card-body">\n                    <p>Кондиционер</p>\n                    <h4 class="card-product__title"><a href="./pages/single-product.html?id=${e.conditionerId}">${e.brend} ${e.model}</a></h4>\n                    <p class="card-product__price">${e.price.toFixed(2)} р.</p>\n                </div>\n            </div>\n        `,n},singleCardTpl(e){let n=this.createNode("div",["product_image_area"]);return n.innerHTML=`\n            <div class="container">\n                <div class="row s_product_inner">\n                    <div class="col-lg-6">\n                        <div class="single-prd-item">\n                            <img class="img-fluid" src="${e.img_url}" alt="${e.brend} ${e.model}">\n                        </div>\n                    </div>\n                    <div class="col-lg-5 offset-lg-1">\n                        <div class="s_product_text">\n                            <h3>${e.brend} ${e.model}</h3>\n                            <h2>${e.price.toFixed(2)} р.</h2>\n                            <ul class="list">\n                                <li><span>Тип</span> : ${e.type}</li>\n                                <li><span>Страна</span> : ${e.country}</li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `,n},isTrue:e=>e?"Да":"Нет",singleCardDescriptionTabTpl(e){let n=this.createNode("section",["product_description_area"]);return n.innerHTML=`\n            <div class="container">\n                <div class="tab-content" id="myTabContent">\n                    <div class="table-responsive">\n                        <table class="table">\n                            <tbody>\n                                <tr><td><h5>Тип внутреннего блока</h5></td>\n                                    <td><h5>${e.inside_block}</h5></td></tr>\n                                <tr><td><h5>Режимы работы</h5></td>\n                                    <td><h5>${e.operating_mode}</h5></td></tr>\n                                <tr><td><h5>Осушение воздуха</h5></td>\n                                    <td><h5>${this.isTrue(e.air_filter)}</h5></td> </tr>\n                                <tr><td><h5>Инвертор</h5></td>\n                                    <td><h5>${this.isTrue(e.invertor)}</h5></td></tr>\n                                <tr><td><h5>Холодопроизводительность</h5></td>\n                                    <td><h5>${e.cooling_capacity} Вт</h5></td> </tr>\n                                <tr><td><h5>Тип хладагента</h5></td>\n                                    <td><h5>${e.refrigerant_type}</h5></td> </tr>\n                                <tr><td><h5>Пульт ДУ</h5></td>\n                                    <td><h5>${this.isTrue(e.remote_manage)}</h5></td></tr>\n                            </tbody>\n                        </table>\n                    </div> \n                </div> \n            </div>     \n        `,n},footer(){let e=this.createNode("footer",["product_description_area"]);return e.innerHTML='\n            <div class="footer-area footer-only">\n                <div class="container">\n                    <div class="row section_gap">\n                        <div class="col-lg-3 col-lg-6 col-lg-6">\n                            <div class="single-footer-widget tp_widgets ">\n                                <h4 class="footer_title large_title">CandiCool</h4>\n                                <p>Современное понятие «кондиционер» как обозначение устройства для поддержания заданной температуры в помещении, существует достаточно давно.</p>\n                                <p>Perkins приписывают первый патент на парокомпрессионный холодильный цикл, выданный 14 августа 1835 г. и озаглавленный «Аппарат и средства для производства льда и охлаждающих жидкостей».</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="footer-bottom">\n                <div class="container">\n                    <div class="row d-flex">\n                        <p class="col-lg-12 footer-text text-center">\n                            &copy; Виктория Саевич\n                        </p>\n                    </div>\n                </div>\n            </div>\n        ',e},loginBlockTpl(){const e=this.createNode("div",["col-lg-6"]);return e.innerHTML='\n            <div class="login_box_img">\n                <div class="hover">\n                    <h4>Cadni Cool администрирование</h4>\n                    <p>Войдите в аккаунт, чтобы добавлять, удалять и редактировать товары</p>\n                </div>\n            </div>\n        ',e},formTpl(){let e=this.createNode("div",["col-lg-6"]);return e.innerHTML='\n            <div class="login_form_inner register_form_inner">\n                <h3>Войти в панель администрирования</h3>\n                <form class="row login_form" id="register_form">\n                    <div class="col-md-12 form-group">\n                        <input type="text" class="form-control" id="login" name="login" placeholder="Логин" onfocus="this.placeholder = \'\'" onblur="this.placeholder = \'Логин\'">\n                    </div>\n                    <div class="col-md-12 form-group">\n                        <input type="password" class="form-control" id="password" name="password" placeholder="Пароль" onfocus="this.placeholder = \'\'" onblur="this.placeholder = \'Пароль\'">\n                    </div>\n                    <div class="col-md-12 form-group">\n                        <button type="submit" value="submit" class="button button-register w-100">Войти</button>\n                    </div>\n                </form>\n            </div>\n        ',e},adminTestTpl(e){let n=this.createNode("h1");return n.innerHTML=`${e.country}`,n},adminActionTpl(){let e=this.createNode("div",["col-lg-4"]);return e.innerHTML='\n            <div class="order_box" id="admin_actions">\n                <h2>Выберите действие</h2>\n                <div class="payment_item">\n                    <div class="col-md-12 form-group">\n                        <a href="./add.html" id="add" class="button button-register w-100" style="margin: 5px 0; text-align: center;">Добавить</a>\n                        <a href="./update.html" id="update" class="button button-register w-100" style="margin: 5px 0; text-align: center;">Редактировать</a>\n                        <a href="./delete.html" id="delete" class="button button-register w-100" style="margin: 5px 0; text-align: center;">Удалить</a>\n                    </div>\n                </div>\n            </div>\n        ',e},adminProductFormTpl(){let e=this.createNode("div",["col-lg-8"]);return e.id="admin_form_parent",e.innerHTML='\n            <form class="row contact_form" method="post" id="admin_container" novalidate="novalidate">\n                <div class="col-md-6 form-group p_star">\n                    <h6>Бренд</h6>\n                    <input type="text" class="form-control" id="brend" name="brend" required>\n                </div>\n                <div class="col-md-6 form-group p_star">\n                    <h6>Модель</h6>\n                    <input type="text" class="form-control" id="model" name="model" required>\n                </div>\n                <div class="col-md-12 form-group">\n                    <h6>Тип</h6>\n                    <input type="text" class="form-control" id="type" name="type" required>\n                </div>\n                <div class="col-md-6 form-group p_star">\n                    <h6>Страна</h6>\n                    <select class="country_select" name="country">\n                        <option value="Германия">Германия</option>\n                        <option value="Италия">Италия</option>\n                        <option value="Африка">Африка</option>\n                        <option value="Россия">Россия</option>\n                        <option value="Америка">Америка</option>\n                        <option value="Китай">Китай</option>\n                    </select>\n                </div>\n                <div class="col-md-6 form-group p_star">\n                    <h6>Тип внутреннего блока</h6>\n                    <input type="text" class="form-control" id="inside_block" name="inside_block" required>\n                </div>\n                <div class="col-md-12 form-group p_star">\n                    <h6>Ссылка на изображение</h6>\n                    <input type="text" class="form-control" id="img_url" name="img_url" required value="https://img.5element.by/import/images/ut/goods/good_28b71ca9-da0f-11e9-80c7-005056840c70/good_img_ab1fdbf9-db93-11e9-80c7-005056840c70.jpg">\n                </div>\n                <div class="col-md-12 form-group">\n                    <h6>Режим работы</h6>\n                    <select class="country_select" name="operating_mode">\n                        <option value="Охлождение">Охлождение</option>\n                        <option value="Увлажнение">Увлажнение воздуха</option>\n                    </select>\n                </div>\n                <div class="col-md-12 form-group">\n                    <div class="creat_account">\n                        <input type="checkbox" id="f-option2" name="air_filter" required>\n                        <label for="f-option2">Осушение воздуха</label>\n                    </div>\n                </div>\n                <div class="col-md-12 form-group">\n                    <div class="creat_account">\n                        <input type="checkbox" id="f-option2" name="invertor" required>\n                        <label for="f-option2">Инвертор</label>\n                    </div>\n                </div>\n                <div class="col-md-12 form-group">\n                    <div class="creat_account">\n                        <input type="checkbox" id="f-option2" name="remote_manage" required>\n                        <label for="f-option2">Пульт ДУ</label>\n                    </div>\n                </div>\n                <div class="col-md-6 form-group p_star">\n                    <h6>Холодпроизводительность</h6>\n                    <input type="number" class="form-control" id="cooling_capacity" name="cooling_capacity" min="1000" max="5000" value="1500" required>\n                </div>\n                <div class="col-md-6 form-group p_star">\n                    <h6>Тип хологента</h6>\n                    <input type="text" class="form-control" id="refrigerant_type" name="refrigerant_type" required>\n                </div>\n                <div class="col-md-12 form-group">\n                    <h6>Цена</h6>\n                    <input type="number" step="0.5" class="form-control" id="price" name="price" min="0" value="700.95" required>\n                </div>\n                <div class="col-md-12 form-group">\n                    <button type="button" id="form_submit" class="button hero-button w-100">Отправить</button>\n                </div>\n            </form>\n        ',e}},n={async getConditionerByID(e){const n=`http://localhost:8088/api/conditioner/get-conditioner/${e}`;let t=null;try{const e=await fetch(n);t=await e.json()}catch(e){alert("getConditionerByID error",e)}return t},async getAllConditioners(){let e=null;try{const n=await fetch("http://localhost:8088/api/conditioner/get-all-conditioner");e=await n.json()}catch(e){alert("getAllConditioners error",e)}return e},async postLogin(e,n){let t=null;try{const o=await fetch("http://localhost:8088/api/user/login",{method:"POST",body:JSON.stringify({login:e,password:n}),mode:"cors",headers:{"Content-Type":"application/json"}});t=await o.json()}catch(e){alert("Неверный логин или пароль",e)}return t},async deleteProduct(e){let n=null;const t=`http://localhost:8088/api/conditioner/delete-conditioner/${e}`;try{const e=await fetch(t,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});n=await e.json()}catch(e){alert("deleteProduct",e)}},async updateProduct(e,n){let t=null;const o=`http://localhost:8088/api/conditioner/update-conditioner/${e}`;console.log(localStorage.getItem("token"));try{const e=await fetch(o,{method:"PUT",body:JSON.stringify(n),headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});t=await e.json(),console.log(t)}catch(e){alert("updateProduct",e)}},async createProduct(e){let n=null;console.log(e);try{const e=await fetch("http://localhost:8088/api/conditioner/create-conditioner",{method:"POST",body:JSON.stringify({price:305.95,brend:"ULLAEB",model:"BUIC-091O",img_url:"https://sun9-18.userapi.com/impg/va7ZjRr9eutYsLZ0IvmZKqRTlyhb0nX2x7-5WQ/ZOibCFZmZYI.jpg?size=263x280&quality=96&proxy=1&sign=9af9fda39504de8af058617b576bd0c7&type=album",type:"Мобильный",inside_block:"Подпотолочный",operating_mode:"Охлаждение",air_filter:!0,invertor:!1,cooling_capacity:2642,refrigerant_type:"R410B",remote_manage:!1,country:"Франция"}),mode:"cors",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});n=await e.json()}catch(e){alert("createProduct",e)}}},t=async()=>await n.getAllConditioners(),o={getQueryVariable(e){let n={};return location.search.substring(1).split("&").forEach((e=>{let t=e.split("=");n[t[0]]=t[1]})),n[e]}},i=async e=>await n.getConditionerByID(e),r={buildDOM(){this.createBanner(),this.createConditionerList()},toggleClass(e,n,t){e.classList.add(n),e.classList.remove(t)},createBanner(){document.querySelector("body").append(e.mainSectionTpl()),document.querySelector("main").append(e.bannerTpl())},async createCarousel(n=3){document.querySelector("main").append(e.carouselContainerTpl());const o=document.querySelector("#carousel-conditioners"),i=await t();i.length<n&&(n=i.length);for(let t=0;t<n;t++)o.append(e.carouselCardTpl(i[t]))},async createConditionerList(n=9){document.querySelector("main").append(e.containerTpl());const o=document.querySelector("#container-conditioners"),i=await t();i.length<n&&(n=i.length);for(let t=0;t<n;t++)o.append(e.cardTpl(i[t]))},async createSingleProduct(){const n=o.getQueryVariable("id"),t=await i(n);document.querySelector("body").append(e.singleCardTpl(t))},async createDescriptionTab(){const n=o.getQueryVariable("id"),t=await i(n);document.querySelector("body").append(e.singleCardDescriptionTabTpl(t))},createFooter(){document.querySelector("body").append(e.footer())},createLoginSection(){const n=e.createNode("section",["login_box_area","section-margin"]),t=e.createNode("div",["container"]),o=e.createNode("div",["row"]);o.append(e.loginBlockTpl()),o.append(e.formTpl()),t.append(o),n.append(t),document.querySelector("body").append(n)},async createAdminSection(){const n=e.createNode("section",["checkout_area","section-margin--small"]),t=e.createNode("div",["container"]),o=e.createNode("div",["billing_details"]),i=e.createNode("div",["row"]);i.id="admin_row",o.innerHTML='<h2 style="padding: 20px 0 40px;" id="action_title">Что нужно сделать?</h2>',i.append(e.adminActionTpl()),t.append(o),o.append(i),n.append(t),document.querySelector("body").append(n)},async createAdminProductList(){let t=e.createNode("div",["row"]),o=await n.getAllConditioners(),i=document.querySelector("#admin_row");for(let n=0;n<o.length;n++)t.append(e.cardTpl(o[n]));t.id="admin_all_products",i.append(t)},createAdminProductForm(){document.querySelector("#admin_row").append(e.adminProductFormTpl())}};window.addEventListener("DOMContentLoaded",(function(){console.log("Good"),r.createAdminSection(),r.createAdminProductList()}))})();